<!DOCTYPE HTML>
<html>

<head>

    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <title>Infectious Disease Model</title>
<style>
  /* -------------------------BODY------------------------- */

  body {
      margin: 0;
      background: #fff;
      font-family: 'Arial', sans-serif;
      font-weight: 400;
  }


  /* ------------------------- HEADER -------------------------*/

    
  header {
    background: #262626;
    height: 80px;
    /* display: flex; */
    /* align-items: center; */
  }
  
  header::after {
    content: '';
    display: table;
    clear:both;
  }
  
  .logo {
    padding:10px;
    float:left;
    width:300px;
  }

  .sq-logo {
    padding: 10px;
    float:left;
    width: 65px;
    height: 65px;
    object-fit: cover;
  }
  
  nav {
    float: right;
    padding-right: 16px;
  }
  
  nav ul {
    margin: 0;
    padding: 0;
    list-style:none;
    /* position: relative; */
  }
  
  nav li {
    /* display: inline-block; */
    margin: right 3.56vw;
    margin: 0 2.28vw;
    /* padding-top: 2.21vw; */
    position: relative;
    float: left;
    height: 80px;
    display: flex;
    align-items: center;
  }
  
  nav a {
    color: rgb(255, 251, 251);
    /* float: left; */
    text-decoration: none;
    font-size: 16px;
    text-align: center;
  }
  
  nav a:hover {
      color: #31A6FF;
  }
  
  nav a::before {
      content: '';
      display: block;
      height:5px;
      background-color: #31A6FF;
  
      position:absolute;
      width: 0%;
      top: 0;
      transition: all ease-in-out 250ms;
  }
  
  nav a:hover::before {
      width: 100%;
  }
  
  .header-text {
      font-size: 16px;
  }

  @media all and (max-width: 608px) {
    header {
      height: 160px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    nav {
      float: none;
    }

    nav ul {
      display: flex;
      justify-content: center;
      padding: 0;
    }
  }
  
  .dropdown {
    float:left;
    overflow:hidden;
  }
  
  .dropdown .dropbtn {
    padding: 0;
    font-size: 16px;
    background-color: transparent;
    color: rgb(255, 251, 251);
    text-decoration: none;
    border: none;
    margin-top: -1.2px;
  }
  
  .dropbtn::before {
    content: '';
    display: block;
    height:5px;
    background-color: #31A6FF;
  
    position:absolute;
    width: 0%;
    top: 0;
    transition: all ease-in-out 250ms;
  }
  
  .dropbtn:hover::before {
    width: 100%
  }
  
  /* Dropdown Content (Hidden by Default) */
  .dropdown-content {
    display: none;
    position: absolute;
    top: 80px;
    left: -20%;
    width: 200%;
    background-color: #5c5c5c;
  
    z-index: 1;
  }
  
  /* Links inside the dropdown */
  .dropdown-content a {
    float: none;
    padding: 12px 16px;
    text-decoration: none;
    color: white;
    display: block;
    text-align: left;
  }
  
  .dropdown-content a:hover::before {
    width:0;
  }
  
  /* Show the dropdown menu on hover, change text color, apply hover bar above */
  .dropdown:hover .dropdown-content {display: block;}
  .dropdown:hover .dropbtn::before {width: 100%}
  .dropdown:hover .dropbtn {color: #31A6FF}
  li:hover .dropdown-content {display: block;}


  /* -------------------------TABS------------------------- */

  .flexwrap1 {
    display: flex;
    width: auto;
    height: auto;
    font-family: 'Arial', sans-serif;
    color:#484848;
    font-weight: 600;
    font-size: 16px;
    padding-left:5px;
    padding-right:5px;
    padding-bottom:10px;
    background:#b2e3f4;
    gap: 2.083vw;
    line-height: 1.5;
    margin: auto;
    justify-content: center;
  }
  .tab {
    overflow: hidden;
    border: 1px solid #ccc;
    background-color: #f1f1f1;
  }

  /* Style the buttons inside the tab */
  .tab button {
    background-color: inherit;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 14px 16px;
    transition: 0.3s;
    font-size: 17px;
  }

  /* Change background color of buttons on hover */
  .tab button:hover {
    background-color: #ddd;
  }
  /* Create an active/current tablink class */
  .tab button.active {
    background-color: #ccc;
  }

  /* Style the tab content */
  .tabcontent {
    display: none;
    padding: 6px 12px;
  }

  /* -------------------------ROWS AND COLUMNS------------------------- */

  .home_container {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 0.75%;
      margin-left: auto;
      margin-right: auto;
      align-items: stretch;
      max-width: 1200px;
      width: 100%;
      padding: 0 20px;
      box-sizing: border-box;
    }

  .column_1_home {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

  .column_2_home {
      display: flex;
      align-items: stretch;
      align-items: first baseline;
    }

  .column_2_home img {
      width: auto;
      max-width: 700px;
      height: 100%;
      object-fit: contain;
    }

  .column_2 {
    float: left;
    width: 45.9%;
    padding-left: 2%;
    padding-right: 2%;
  }

  .column_3 {
      float: left;
      width: 29.3%;
      padding-left: 2%;
      padding-right: 2%;
    }

  .column_4 {
      float: left;
      width: 20.9%;
      padding-left: 2%;
      padding-right: 2%;
    }

  .row:after {
      content: "";
      display: table;
      clear: both;
    }

  /* Responsive layouts */

  @media screen and (max-width: 1100px) {

    .home_container {
      grid-template-columns: 1fr;
      max-width: 600px;
      align-items: center;
      justify-items: center;
    }

    .column_1_home, .column_2_home{
      width: 100%;
    }

    .column_1_home {
      order: 2;
    }

    .column_2_home {
      order: 1;
    }

  }

  @media screen and (max-width: 800px) {

    .column_2 {
      width: 96%;
    }


    .column_3 {
      width: 96%;
    }

    .column_4 {
      width: 96%;
    }
  }

  /*-------------------BOKEH SECTION--------------------- */
  .scrollable-container {
      width: 100%;
      max-width: 100%;
      overflow-x: auto;
  }


  /*-------------------FOOTER--------------------- */
  .footer {
    margin: 0;
    padding: 10px 0 10px 0;
    list-style:none;
    text-decoration: none;
    overflow: hidden;
    box-sizing: border-box;
    background-color: #262626;
    display:flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    font-family: 'Arial', sans-serif;
    margin-bottom: -4.883vw;
  }

  @media all and (max-width: 700px) {
    .footer {
      flex-direction: column;
    }
  }

  .container2 {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: nowrap;
    padding: 10px;
  }


  /* -------------------MISC------------------- */

  .button1 {
    margin: 0;
    justify-self: center;
    text-decoration: none;
    color: black;
    font-family: 'Arial', sans-serif;
    font-weight: 200;
    font-size: 28px;
    text-align: center;
    background-color: #fff;

    border: solid 2px black;
    border-radius: 50px;
    padding: 0.651vw 5.208vw;

    -webkit-transition-duration: 300ms;
    transition-duration: 300ms;
  }

  .center {
    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 52.083vw;
    height: 29.297vw;
  }

  .head1 {
    text-align: center;
    background-color: #fff;
    color: #000;
    font-size: 32px;
    font-weight: bold;
    font-family: 'Arial', sans-serif;
  }
  
</style>
</head>

<body>
  <header>
    <div><a href="/app"><img src="{{url_for('static', filename='Logo2.JPG')}}" alt="logo" class="logo"></a></div>
    <nav>
        <li><a href="/app" class="header-text">HOME</a></li>
        <li><div class="dropdown">
            <button class="dropbtn">MODULES</button>
            <div class="dropdown-content">
              <a href="bayesian_optimization" class="header-text">Bayesian Optimization</a>
              <a href="biodegradability_classification" class="header-text">Biodegradability Classification</a>
              <a href="catalysis_data_interactive_visualization" class="header-text">Catalysis Data Science</a>
              <a href="DLT" class="header-text">Digital Lab Twin</a>
              <a href="DAC" class="header-text">Direct Air Captures</a>
              <a href="sliders_reaction_kinetics" class="header-text">Reaction Kinetics</a>
              <a href="SIR" class="header-text">SEIR Infectious Diseases</a>
              <a href="ZECC" class="header-text">Zero Energy Cooling Chamber</a>
            </div>
          </div>
        </li>
        <li><a href="about" class="header-text">ABOUT</a></li>
    </nav>
  </header>
  <style>
        .text-size {
            font-size: 16px; /* Adjust the font size as desired */
        }
    </style>
    <h1 class="head1">SEIR Infectious Disease Model</h1>
    <div class="tab">
        <button tabindex= "0" class="tablinks" onclick="openTab(event, 'About')" id="defaultOpen">About</button>
        <button tabindex= "0" class="tablinks" onclick="openTab(event, 'Class Definitions')">Class Definitions</button>
        <button tabindex= "0" class="tablinks" onclick="openTab(event, 'Model Description')">Model Description</button>
        <button tabindex= "0" class="tablinks" onclick="openTab(event, 'Questions')">Questions</button>
      </div>

      <div class="flexwrap1">
        <div id="About" class="tabcontent">
          <h3>Welcome to SEIR Infectious Disease</h3>
          <div class="home_container">
            <div class="column_1_home">
              <p>Our model uses Ordinary Differential Equations to predict the spread of infectious diseases. This model is known as the Susceptible-Exposed-Infected-Recovered Model. With this we have allowed you to simulate your own outbreak with different conditions. This will let you to compare the efficacy of mitigating strategies for infectious disease spread. </p>
              <p><b>How to use:</b>
              <ol>
                <li>Use play button to watch the spread of disease over time.</li>
                <li>Place the slider at a specific time to see the spread of disease at a specific time.</li>
                <li>Click the 'Adjustable SEIR Model' tab to see an adjustable version of the model, that operates with sliders.</li>
              </ol>
              </p>
            </div>

            <div class="column_2_home">
              <img src="{{url_for('static', filename='virus.jpg')}}" alt="Virus Example" class="right" style="width:100%; height: auto;">
            </div>
          </div>
          <div class="row" style="justify-items: center;display: grid;padding: 30px 0 0 0;">
            <p><b>NOTE:</b> If the module below is not appearing, try opening this page in a private/incognito window.</p> 
            <p><a href="#jump" class="button1">Jump to Module</a></p><br>
          </div>

        </div>

        <div id="Class Definitions" class="tabcontent">
          <h3>Definition of each of the 8 classes:</h3>
          <div class="row">
            <div class="column_4">
              <h3>Susceptible:</h3>
              <p>A person who is in the susceptible class is susceptible to contracting the disease and becoming infected. 
                Everyone initially starts out in the susceptible class.</p>
              <br>
              <h3>Exposed:</h3>
              <p>Someone who is in the exposed class has contracted the disease but is not infected yet, which also means they are not able to infect any susceptibles while in the exposed class. 
                This is what is known as a 'latency period'.</p>
            </div>
            <div class="column_4">
              <h3>Unknown Asymptomatic Infected:</h3>
              <p>Someone in this class is an asymptomatic infected, meaning they show no symptoms of the disease. In this class they are also unaware that they are infected.</p>
              <br>
              <h3>Known Asymptomatic Infected:</h3>
              <p>Someone in this class is an asymptomatic infected, meaning they show no symptoms of the disease. However, in this class they are aware they are infected. 
                This would happen if an individual were able to be tested for the disease and their results showed up as positive</p>
            </div>
            <div class="column_4">
              <h3>Non-Hospitalized Symptomatic Infected:</h3>
              <p>An individual in this class is infected and shows symptoms of the disease. 
                In this class the individual's symptoms are not bad enough to warrant being hospitalized (however, someone can move from this class to the hospitalized class).</p>
              <br>
              <h3>Hospitalized Symptomatic Infected:</h3>
              <p>An individual in this class is infected and shows symptoms. Their symptoms are bad enough that they need medical care and are hospitalized. 
                Someone moves into this class from the non-hospitalized symptomatic infected class.</p>
            </div>
            <div class="column_4">
              <h3>Recovered:</h3>
              <p>A person in this class was previously infected with the disease and has now recovered. 
              While in the recovered class, a person is considered immune to the disease (although immunity can ware off an an individual can return to the susceptible class) so an individual in this class cannot spread the disease nor contract the disease. 
              Once an individual enters the recovered class they can only move to the susceptible class (if they loose their immunity) or the dead class (if they die of natural causes).</p>
              <br>
              <h3>Dead:</h3>
              <p>This class represents everyone who has died. It includes people who have died from the disease or from other natural causes. Once an individual enters this class they remain in this class.</p>
            </div>
          </div>
        </div>

        <div id="Model Description" class="tabcontent">
            <h3>Model Description</h3>
            <p>The general SEIR model displays the populations of 8 different classes of individuals in an infectious disease outbreak; 
              Susceptible, Exposed, Unknown Asymptomatic Infected, Known Symptomatic Infected, Non-Hospitalized Symptomatic Infected, Hospitalized Symptomatic Infected, Recovered, and Dead. 
              The current model displays an initial population of 1,000 individuals over 160 days.</p>
            <p>The Exposed class is for individuals who have been infected but are not yet showing symptoms and are not yet able to infect others. 
              They then become either asymptomatic or symptomatic infected. 
              Individuals can become Known Asymptomatic through testing. 
              Testing is assumed to be available through a function of 0.001*t but the user can increase this rate through one of the available sliders</p>
            <p>Symptomatic Infecteds become hospitalized at a rate of 0.1 and hospitalized individuals have a longer recovery time and higher death rate because their cases are more severe.</p>
            <p>Once a vaccine is introduced, individuals can move directly from the susceptible class to the recovered class. 
              The vaccine is assumed to be 98% effective and be distributed at a rate of 0.01 once it is introduced.
              The inclusion of social distancing will reduce the rate of infection.</p>
            <p>By adding hospital beds and ventilators, the health capacity of the population increases. 
              If the amount of hospitalized symptomatic individuals surpasses the health capacity then hospitalized deaths will increase and recovery rate will decrease due to the health system being overwhelmed.</p>
            <p>There is assumed to be a natural birth rate of .001 and a natural death rate of 0.0002. 
              This accounts for individuals entering and exiting the system, for causes unrelated to the outbreak.</p>
        </div>
      </div>

      <h3 id="jump" style="margin:5px;"> </h3>

      <script>
        function openTab(evt, tabName) {
          var i, tabcontent, tablinks;
          tabcontent = document.getElementsByClassName("tabcontent");
          for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
          }
          tablinks = document.getElementsByClassName("tablinks");
          for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
          }
          document.getElementById(tabName).style.display = "block";
          evt.currentTarget.className += " active";
        }
        // Get the element with id="defaultOpen" and click on it
    document.getElementById("defaultOpen").click();
    // Keyboard navigation
    document.addEventListener('keydown', (event) => {
    const tablinks = document.querySelectorAll('.tablinks');
    let currentTab = Array.from(tablinks).findIndex((tab) => tab.classList.contains('active'));
    
    if (event.key === 'ArrowRight') {
    currentTab = (currentTab + 1) % tablinks.length;
    } else if (event.key === 'ArrowLeft') {
    currentTab = (currentTab - 1 + tablinks.length) % tablinks.length;
    } else {
    return;
    }
    
    tablinks[currentTab].click();
    });
    
      </script>

      <div class="scrollable-container">
        {{bokeh_script_SIR|safe}}
      </div>
        <br>
        <br>

<style>
  /* floating round button */
  #clutchChatIcon{
    position:fixed;
    bottom:20px;
    right:20px;
    width:60px;
    height:60px;
    border-radius:50%;
    /* REMOVED background-image here, it's now handled by <img> tag inside */
    background-color: transparent; /* Ensure no default background interferes */
    cursor:pointer;
    z-index:1000; /* Ensure it's above most page content */
    box-shadow:0 4px 12px rgba(0,0,0,.3);
    overflow: hidden; /* Hide parts of image that exceed round shape */
    display: flex; /* Use flexbox to center image inside */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
  }

  /* Style for the actual image inside the button */
  #clutchChatIcon img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Ensure image covers the button area */
  }

  /* hidden iframe */
  #clutchIframe{
    display:none; /* Initially hidden, toggled by JS */
    position:fixed;
    bottom:90px; /* Positions the iframe above the icon when expanded */
    right:20px;
    width:350px; /* Standard chat window width */
    height:500px; /* Standard chat window height */
    border:none;
    border-radius:12px;
    box-shadow:0 0 15px rgba(0,0,0,.25);
    z-index:1001; /* Ensure the iframe is above the icon */
  }

  /* Optional: Basic responsive adjustments for smaller screens */
  @media (max-width: 600px) {
    #clutchChatIcon {
      bottom: 10px;
      right: 10px;
      width: 50px;
      height: 50px;
    }
    #clutchIframe {
      width: 90%;
      height: 70%;
      bottom: 70px;
      right: 5%; /* Centers it horizontally */
      left: 5%; /* Centers it horizontally */
      margin: auto; /* Ensures centering */
    }
  }
</style>

<div id="clutchChatIcon" onclick="toggleClutchChat()">
  <img src="{{ url_for('static', filename='clutch-logo.jpeg') }}" alt="Clutch AI Chat"> </div>

<iframe id="clutchIframe"
        title="Clutch AI Chat"
        src="https://omar852-clutch-ai-chat.hf.space"
        allow="microphone">
</iframe>

<script>
  function toggleClutchChat(){
    const frame = document.getElementById("clutchIframe");
    if (frame.style.display === "none" || frame.style.display === "") {
      frame.style.display = "block";
    } else {
      frame.style.display = "none";
    }
  }
</script>
    
</body>

<div class="footer">
  <a href="https://cache.org/"><img src="{{url_for('static', filename='cache_logo.png')}}" alt="cache" class="sq-logo";></a>
  <a href="https://www.nsf.gov/"><img src="{{url_for('static', filename='nsf_logo.png')}}" alt="nsf" class="sq-logo";></a>
  <a href="/app"><img src="{{url_for('static', filename='Logo2.JPG')}}" alt="logo" class="logo";></a>
  <a href="https://engineering.lehigh.edu/chbe"><img src="{{url_for('static', filename='chbe_logo.png')}}" alt="chbe" class="sq-logo";></a>
  <a href="https://creativeinquiry.lehigh.edu/"><img src="{{url_for('static', filename='creative_inquiry_logo.png')}}" alt="ci" class="sq-logo";></a>
</div>

</html>
